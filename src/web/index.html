<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>NC Neoteric Fission Reactor Design Generator</title>
    <link rel="stylesheet" href="main.css"/>
    <script src="https://code.jquery.com/jquery-3.5.0.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <script src="FissionOpt.js"></script>
    <script src="main.js"></script>
  </head>
  <body>
    <header>
      <div>
        <h2>NC Fission Reactor Design Generator</h2>
        original by cyb0124, modified by tadyen <a href="https://github.com/tadyen/FissionOpt">source</a>
      </div>
      <div>
        This tool generates a fission reactor design that maximizes effective power output, breeding speed or efficiency.
        This page is for <a href="https://github.com/igentuman/NuclearCraft-Neoteric">NC Neoteric</a> version of Nuclearcraft, used in the <a href="https://github.com/ThePansmith/Monifactory">Monifactory</a> modpack.
        For the pre-modified version of this optimiser, click <a href="https://leu-235.com/">here</a> instead.
      </div>
    </header>
    <section id="settings">
      <div>
        <b>Step 1</b>: Input the core (interior) size of the reactor:
        <input type="text" id="sizeZ"> &times;
        <input type="text" id="sizeX"> &times;
        <input type="text" id="sizeY">
      </div>
      <div>
        <b>Step 2</b>: Default values loaded. Most modpacks use the default config, except for E2E and PO3. You can manually enter the fuel data in the textboxes below.
        The fuel data can be found in the tooltip of the fuel item.
      </div>
      <div>Fuel Base Power: <input type="text" id="fuelBasePower"> RF/t</div>
      <div>Fuel Base Heat: <input text="text" id="fuelBaseHeat"> H/t</div>
      <div class="fuelPresets"><table>
        <thead><tr><td>Config</td>
          <td>Uranium Ingot</td>
          <td>TBU</td>
          <td>LEU-235</td>
          <td>HEU-235</td>
          <td>LEU-233</td>
          <td>HEU-233</td>
          <td>LEN-236</td>
          <td>HEN-236</td>
          <td>MOX-239</td>
          <td>MOX-241</td>
          <td>LEP-239</td>
          <td>HEP-239</td>
          <td>LEP-241</td>
          <td>HEP-241</td>
          <td>LEA-242</td>
          <td>HEA-242</td>
          <td>LECm-243</td>
          <td>HECm-243</td>
          <td>LECm-245</td>
          <td>HECm-245</td>
          <td>LECm-247</td>
          <td>HECm-247</td>
          <td>LEB-248</td>
          <td>HEB-248</td>
          <td>LECf-249</td>
          <td>HECf-249</td>
          <td>LECf-251</td>
          <td>HECf-251</td>
        </tr></thead>
        <tr><th>Default</th>
          <td>&mdash;</td>
          <td><a href="javascript:;" id="DefTBU">Normal</a>
          <br><a href="javascript:;" id="DefTBUO">Oxide</a></td>
          <td><a href="javascript:;" id="DefLEU235">Normal</a>
          <br><a href="javascript:;" id="DefLEU235O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHEU235">Normal</a>
          <br><a href="javascript:;" id="DefHEU235O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLEU233">Normal</a>
          <br><a href="javascript:;" id="DefLEU233O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHEU233">Normal</a>
          <br><a href="javascript:;" id="DefHEU233O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLEN236">Normal</a>
          <br><a href="javascript:;" id="DefLEN236O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHEN236">Normal</a>
          <br><a href="javascript:;" id="DefHEN236O">Oxide</a></td>
          <td><a href="javascript:;" id="DefMOX239">Load</a></td>
          <td><a href="javascript:;" id="DefMOX241">Load</a></td>
          <td><a href="javascript:;" id="DefLEP239">Normal</a>
          <br><a href="javascript:;" id="DefLEP239O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHEP239">Normal</a>
          <br><a href="javascript:;" id="DefHEP239O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLEP241">Normal</a>
          <br><a href="javascript:;" id="DefLEP241O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHEP241">Normal</a>
          <br><a href="javascript:;" id="DefHEP241O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLEA242">Normal</a>
          <br><a href="javascript:;" id="DefLEA242O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHEA242">Normal</a>
          <br><a href="javascript:;" id="DefHEA242O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLECm243">Normal</a>
          <br><a href="javascript:;" id="DefLECm243O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHECm243">Normal</a>
          <br><a href="javascript:;" id="DefHECm243O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLECm245">Normal</a>
          <br><a href="javascript:;" id="DefLECm245O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHECm245">Normal</a>
          <br><a href="javascript:;" id="DefHECm245O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLECm247">Normal</a>
          <br><a href="javascript:;" id="DefLECm247O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHECm247">Normal</a>
          <br><a href="javascript:;" id="DefHECm247O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLEB248">Normal</a>
          <br><a href="javascript:;" id="DefLEB248O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHEB248">Normal</a>
          <br><a href="javascript:;" id="DefHEB248O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLECf249">Normal</a>
          <br><a href="javascript:;" id="DefLECf249O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHECf249">Normal</a>
          <br><a href="javascript:;" id="DefHECf249O">Oxide</a></td>
          <td><a href="javascript:;" id="DefLECf251">Normal</a>
          <br><a href="javascript:;" id="DefLECf251O">Oxide</a></td>
          <td><a href="javascript:;" id="DefHECf251">Normal</a>
          <br><a href="javascript:;" id="DefHECf251O">Oxide</a></td>
        </tr>
      </table></div>
      <div>
        <b>Step 3</b>: If you want to limit the usage of a type of block, enter the maximum number allowed in the table below.
        Enter zero to completely disable that block. You can hover over the acronym to see the full name of each block.
        Active coolers are disabled by default. You can enable them by removing the zeros.
      </div>
      <table>
        <thead><tr id="blockType"><th>Block Type</th>
          <th class="Wt">Wt</th><th class="Rs">Rs</th><th class="Qz">Qz</th>
          <th class="Au">Au</th><th class="Gs">Gs</th><th class="Lp">Lp</th>
          <th class="Dm">Dm</th><th class="He">He</th><th class="Ed">Ed</th>
          <th class="Cy">Cy</th><th class="Fe">Fe</th><th class="Em">Em</th>
          <th class="Cu">Cu</th><th class="Sn">Sn</th><th class="Mg">Mg</th>
          <th class="Al">Al</th><th class="As">As</th><th class="B">B</th>
          <th class="ES">ES</th><th class="Ft">Ft</th><th class="Pb">Pb</th>
          <th class="N">N</th><th class="Li">Li</th><th class="Mn">Mn</th>
          <th class="NB">NB</th><th class="Nr">Nr</th><th class="Ob">Ob</th>
          <th class="Pm">Pm</th><th class="Pp">Pp</th><th class="Ag">Ag</th>
          <th class="Sl">Sl</th>
          <th class="cell">[]</th><th class="mod">##</th>
        </tr></thead>
        <tbody>
          <tr id="rate"><th>Cooling Rate (H/t)</th>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td>
            <td>&mdash;</td><td>&mdash;</td>
          </tr>
          <tr id="limit"><th>Max Allowed</th>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td>
          </tr>
          <tr id="activeRate"><th>Active Rate (H/t)</th>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td><td><input type="text"></td><td><input type="text"></td>
            <td><input type="text"></td>
            <td>&mdash;</td><td>&mdash;</td>
          </tr>
          <tr id="activeLimit"><th>Max Active Allowed</th>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td><td><input type="text" value="0"></td><td><input type="text" value="0"></td>
            <td><input type="text" value="0"></td>
            <td>&mdash;</td><td>&mdash;</td>
          </tr>
        </tbody>
      </table>
      <div>
        <b>Step 4 (Optional)</b>: Cooling rate data can be reset or manually modified here.
        <a href="javascript:;" id="DefRate">Default</a>
        Passive cooling rates are in the tooltip of each cooler item.
      </div>
      <div>
        <b>Step 5</b>: Adjust the options below and click &ldquo;Run&rdquo; to start the optimization.<br>
        <label><input type="checkbox" id="ensureActiveCoolerAccessible" checked>Ensure active coolers are accessible by piping.</label><br>
        <label><input type="checkbox" id="ensureHeatNeutral" checked>Only generate heat neutral reactor.</label><br>
        <label><input type="radio" name="goal" value="0" checked>Optimize for power.</label><br>
        <label><input type="radio" name="goal" value="1">Optimize for breeding (maximize fuel consumption rate).</label><br>
        <label><input type="radio" name="goal" value="2">Optimize for efficiency.</label><br>
        <label><input type="checkbox" id="symZ" checked>X symmetry</label>
        <label><input type="checkbox" id="symX" checked>Y symmetry</label>
        <label><input type="checkbox" id="symY" checked>Z symmetry</label><br>
        <label><input type="checkbox" id="useNet" checked>Use reinforcement learning (requires more memory, slightly slower but can produce better design)</label><br>
        The most efficient reactor doesn't produce the most power. To get a efficient reactor that can still generate lots of power,
        you should optimize for power while limiting the cell count using the &ldquo;Max Allowed&rdquo; box for <span class="row cell" title="Reactor Cell">[]</span>.
        To get the ideal cell count, divide the fuel's base processing time by the time you want a fuel to last.
        Enabling symmetry and/or limiting block counts often speeds up the algorithm.
        The algorithm uses fixed seed: different runs will always yield the same results unless there is an update to the algorithm (last update: 5/19/2020).
        You can use <a href="https://www.curseforge.com/minecraft/mc-mods/building-gadgets">Building Gadgets</a> to automate the building of your reactor.
        To do so, save the JSON of your design, load it up in <a href="https://github.com/hellrage/NC-Reactor-Planner/releases/tag/v1.2.25">Hellrage's Reactor Planner</a>,
        and then click &ldquo;Generate BG string&rdquo;. Then you can paste it in the <a href="https://github.com/Direwolf20-MC/BuildingGadgets/wiki/Template-Manager">Template Manager</a>.<br>
        <span style="color:red;">Note: in Chrome, this tab won't run in background! If you want to switch to other tabs, drag this tab out as a dedicated window and don't minimize it.</span>
      </div>
    </section>
    <main>
      <div>
        <a href="javascript:;" id="run">Run</a>
        <a href="javascript:;" id="pause" class="disabledLink">Pause</a>
        <a href="javascript:;" id="stop" class="disabledLink">Stop</a>
        <a href="javascript:;" id="save" class="disabledLink">Save JSON</a>
      </div>
      <div id="progress"></div>
      <div id="design"></div>
    </main>
  </body>
</html>
